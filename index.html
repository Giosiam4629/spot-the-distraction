<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Spot the Distraction ‚Äî Enhanced Edition</title>
  <!-- Google Font -->
  <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Comic+Neue:wght@400;700&display=swap">
  <style>
    body {
      font-family: 'Comic Neue', sans-serif;
      background: linear-gradient(135deg, #e3f2fd 0%, #f2f9ff 100%);
      margin: 0;
      padding: 20px;
      text-align: center;
      min-height: 100vh;
    }
    h1 {
      color: #1a237e;
      text-shadow: 2px 2px 4px rgba(0,0,0,0.2);
      font-size: 2.5rem;
      margin-bottom: 30px;
    }
    .game-controls {
      background: white;
      padding: 20px;
      border-radius: 15px;
      margin: 20px auto;
      max-width: 800px;
      box-shadow: 0 4px 12px rgba(0,0,0,0.1);
    }
    #modeSelect, #levelSelect, #difficultySelect {
      margin: 15px;
      font-size: 1.2rem;
    }
    .control-group {
      margin: 20px 0;
      padding: 15px;
      background: #f8f9fa;
      border-radius: 10px;
    }
    .control-group h3 {
      margin-top: 0;
      color: #1a237e;
    }
    #scoreBoard {
      margin: 15px;
      font-size: 1.5rem;
      color: #0d47a1;
      font-weight: bold;
    }
    .stats {
      display: flex;
      justify-content: center;
      gap: 30px;
      margin: 20px 0;
    }
    .stat-item {
      background: white;
      padding: 10px 20px;
      border-radius: 10px;
      box-shadow: 0 2px 6px rgba(0,0,0,0.1);
    }
    .container {
      display: flex;
      justify-content: space-around;
      flex-wrap: wrap;
      max-width: 1000px;
      margin: 0 auto;
    }
    .card {
      background-color: #ffffff;
      border: 3px solid #90caf9;
      padding: 15px;
      margin: 8px;
      width: 280px;
      cursor: move;
      border-radius: 12px;
      opacity: 0;
      transform: translateY(-20px);
      transition: all 0.4s ease;
      display: flex;
      align-items: center;
      justify-content: flex-start;
      box-shadow: 0 4px 8px rgba(0,0,0,0.1);
      position: relative;
    }
    .card.visible {
      opacity: 1;
      transform: translateY(0);
    }
    .card.correct {
      border-color: #4caf50;
      background: linear-gradient(135deg, #e8f5e8 0%, #ffffff 100%);
    }
    .card.incorrect {
      border-color: #f44336;
      background: linear-gradient(135deg, #ffebee 0%, #ffffff 100%);
      animation: shake 0.5s;
    }
    @keyframes shake {
      0%, 100% { transform: translateX(0); }
      25% { transform: translateX(-5px); }
      75% { transform: translateX(5px); }
    }
    .emoji {
      font-size: 2.5rem;
      margin-right: 15px;
    }
    .card-text {
      flex: 1;
      text-align: left;
      font-size: 1.1rem;
    }
    .difficulty-indicator {
      position: absolute;
      top: 5px;
      right: 8px;
      font-size: 0.8rem;
      color: #666;
    }
    .dropzone {
      border: 3px dashed #bdbdbd;
      min-height: 180px;
      padding: 20px;
      margin: 20px;
      border-radius: 12px;
      transition: all 0.3s ease;
      background-color: #e3f2fd;
      position: relative;
    }
    .dropzone h2 {
      margin-top: 0;
      font-size: 1.4rem;
    }
    .dropzone#closer {
      background: linear-gradient(135deg, #c8e6c9 0%, #e8f5e8 100%);
      border-color: #4caf50;
    }
    .dropzone#distraction {
      background: linear-gradient(135deg, #ffcdd2 0%, #ffebee 100%);
      border-color: #f44336;
    }
    .dropzone.over {
      border-color: #ff9800;
      background-color: #fff9c4;
      transform: scale(1.02);
    }
    .dropzone-counter {
      position: absolute;
      top: 10px;
      right: 15px;
      background: rgba(255,255,255,0.8);
      padding: 5px 10px;
      border-radius: 15px;
      font-size: 0.9rem;
      font-weight: bold;
    }
    .feedback {
      margin: 20px 0;
      height: 3em;
      font-size: 1.3rem;
      font-weight: bold;
      display: flex;
      align-items: center;
      justify-content: center;
    }
    #scripturePopup {
      position: fixed;
      top: 50%;
      left: 50%;
      transform: translate(-50%, -50%);
      background: linear-gradient(135deg, #ffffff 0%, #f8f9fa 100%);
      padding: 30px;
      border: 4px solid #1a237e;
      border-radius: 20px;
      box-shadow: 0 8px 25px rgba(0,0,0,0.3);
      display: none;
      max-width: 90%;
      max-height: 80%;
      z-index: 1000;
      font-size: 1.2rem;
      color: #212121;
      overflow-y: auto;
    }
    #scripturePopup .scripture-header {
      color: #1a237e;
      font-weight: bold;
      margin-bottom: 15px;
      font-size: 1.3rem;
    }
    #scripturePopup .scripture-text {
      line-height: 1.6;
      margin-bottom: 20px;
      font-style: italic;
    }
    #scripturePopup .scripture-reference {
      font-weight: bold;
      color: #0d47a1;
      margin-bottom: 15px;
    }
    #scripturePopup button {
      margin: 10px 5px;
      padding: 10px 20px;
      font-size: 1.1rem;
      border: none;
      border-radius: 10px;
      background-color: #1a237e;
      color: white;
      cursor: pointer;
      transition: background-color 0.3s;
    }
    #scripturePopup button:hover {
      background-color: #303f9f;
    }
    .action-buttons {
      margin: 30px 0;
      display: flex;
      justify-content: center;
      gap: 15px;
      flex-wrap: wrap;
    }
    .btn {
      padding: 12px 24px;
      font-size: 1.2rem;
      border: none;
      border-radius: 10px;
      cursor: pointer;
      box-shadow: 0 4px 8px rgba(0,0,0,0.2);
      transition: all 0.3s ease;
      font-family: inherit;
    }
    .btn-primary {
      background-color: #42a5f5;
      color: white;
    }
    .btn-primary:hover {
      background-color: #1e88e5;
      transform: translateY(-2px);
    }
    .btn-success {
      background-color: #66bb6a;
      color: white;
    }
    .btn-success:hover {
      background-color: #4caf50;
      transform: translateY(-2px);
    }
    .btn-warning {
      background-color: #ffb74d;
      color: #212121;
    }
    .btn-warning:hover {
      background-color: #ff9800;
      transform: translateY(-2px);
    }
    .minigame-section {
      background: white;
      padding: 20px;
      border-radius: 15px;
      margin: 20px auto;
      max-width: 650px;
      box-shadow: 0 4px 12px rgba(0,0,0,0.1);
    }
    .minigame-section h3 {
      color: #1a237e;
      margin-top: 0;
    }
    canvas {
      border: 3px solid #1a237e;
      border-radius: 10px;
      display: block;
      margin: 15px auto;
    }
    #minigameCanvas {
      background: linear-gradient(to bottom, #bbdefb 0%, #e3f2fd 100%);
    }
    #sideScrollerCanvas {
      background: linear-gradient(to bottom, #87CEEB 0%, #98FB98 50%, #8FBC8F 100%);
    }
    .progress-bar {
      width: 100%;
      height: 20px;
      background: #e0e0e0;
      border-radius: 10px;
      overflow: hidden;
      margin: 15px 0;
    }
    .progress-fill {
      height: 100%;
      background: linear-gradient(90deg, #4caf50 0%, #66bb6a 100%);
      transition: width 0.3s ease;
      border-radius: 10px;
    }
    .timer {
      font-size: 1.5rem;
      font-weight: bold;
      color: #f44336;
      margin: 15px 0;
    }
    .hidden {
      display: none;
    }
    .game-stats {
      display: flex;
      justify-content: space-around;
      margin: 10px 0;
      font-size: 1rem;
      font-weight: bold;
    }
    .health-bar {
      display: flex;
      justify-content: center;
      margin: 10px 0;
    }
    .heart {
      font-size: 1.5rem;
      margin: 0 2px;
    }
  </style>
</head>
<body>

  <h1>üåü Spot the Distraction ‚Äî Enhanced Edition üåü</h1>

  <div class="game-controls">
    <div class="control-group">
      <h3>üë§ Choose Your Character</h3>
      <div id="modeSelect">
        <label><input type="radio" name="mode" value="cello" checked> Cello (7‚Äëyr) üßí</label>
        <label><input type="radio" name="mode" value="fina"> Fina (11‚Äëyr) üëß</label>
        <label><input type="radio" name="mode" value="teen"> Teen (15‚Äëyr) üßë</label>
        <label><input type="radio" name="mode" value="adult"> Adult üë®‚Äçüë©‚Äçüëß‚Äçüë¶</label>
      </div>
    </div>

    <div class="control-group">
      <h3>‚ö° Difficulty Level</h3>
      <div id="difficultySelect">
        <label><input type="radio" name="difficulty" value="easy" checked> Easy (No Timer) üòä</label>
        <label><input type="radio" name="difficulty" value="medium"> Medium (2 min timer) ‚è∞</label>
        <label><input type="radio" name="difficulty" value="hard"> Hard (1 min timer) üî•</label>
      </div>
    </div>

    <div class="control-group">
      <h3>üìä Game Progress</h3>
      <div id="levelSelect">
        Level: <span id="levelLabel">1</span> / 5
      </div>
      <div class="progress-bar">
        <div class="progress-fill" id="progressFill" style="width: 20%"></div>
      </div>
    </div>
  </div>

  <div class="stats">
    <div class="stat-item">
      <div id="scoreBoard">Score: 0</div>
    </div>
    <div class="stat-item">
      <div id="streakBoard">Streak: 0</div>
    </div>
    <div class="stat-item">
      <div id="timerDisplay" class="timer hidden">Time: 0:00</div>
    </div>
  </div>

  <div class="container">
    <div>
      <div class="dropzone" id="closer" ondragover="allowDrop(event)" ondrop="drop(event)" ondragleave="dragLeave(event)">
        <h2 style="color: #2e7d32;">‚úÖ Keeps Me Close to Jehovah</h2>
        <div class="dropzone-counter" id="closerCounter">0</div>
      </div>
    </div>
    <div>
      <div class="dropzone" id="distraction" ondragover="allowDrop(event)" ondrop="drop(event)" ondragleave="dragLeave(event)">
        <h2 style="color: #c62828;">‚ö†Ô∏è Could Be a Distraction</h2>
        <div class="dropzone-counter" id="distractionCounter">0</div>
      </div>
    </div>
  </div>

  <h3>üéØ Activities to Sort</h3>
  <div id="cards" class="container"></div>

  <div class="feedback" id="feedback"></div>

  <div class="action-buttons">
    <button id="nextLevelBtn" class="btn btn-primary hidden" onclick="goToNextLevel()">Go to Next Level üöÄ</button>
    <button id="restartBtn" class="btn btn-warning" onclick="restartGame()">Restart Game üîÑ</button>
    <button id="hintBtn" class="btn btn-success" onclick="showHint()">Get Hint üí°</button>
  </div>

  <div id="scripturePopup">
    <div class="scripture-header" id="scriptureHeader"></div>
    <div class="scripture-text" id="scriptureText"></div>
    <div class="scripture-reference" id="scriptureReference"></div>
    <div style="text-align: center;">
      <button onclick="closeScripture()">Continue Playing</button>
      <button onclick="showMoreScriptures()">More Scriptures</button>
    </div>
  </div>

  <!-- Simple Mini-Run Game -->
  <div class="minigame-section">
    <h3>üèÉ‚Äç‚ôÇÔ∏è Simple Mini-Game: Avoid Distractions!</h3>
    <canvas id="minigameCanvas" width="350" height="180"></canvas>
    <div style="text-align: center;">
      <button class="btn btn-warning" onclick="startMinigame()">Start Mini‚ÄëRun üéÆ</button>
      <p style="font-size: 0.9rem; color: #666;">Use SPACE or UP arrow to jump over distractions!</p>
    </div>
  </div>

  <!-- Advanced Side-Scroller Game -->
  <div class="minigame-section">
    <h3>üéÆ Advanced Mini-Game: Side-Scroller Adventure!</h3>
    <div class="game-stats">
      <div>Adventure Score: <span id="adventureScore">0</span></div>
      <div>Kingdom Tokens: <span id="kingdomTokens">0</span></div>
      <div>Goal: <span id="tokenGoal">10</span> tokens</div>
    </div>
    <div class="health-bar" id="healthBar">
      <span class="heart">‚ù§Ô∏è</span>
      <span class="heart">‚ù§Ô∏è</span>
      <span class="heart">‚ù§Ô∏è</span>
    </div>
    <canvas id="sideScrollerCanvas" width="600" height="300"></canvas>
    <div style="text-align: center;">
      <button class="btn btn-warning" onclick="startSideScroller()">Start Adventure üöÄ</button>
      <p style="font-size: 0.9rem; color: #666;">Use SPACE or ‚Üë to jump. Collect Kingdom Tokens üìñ! Avoid distractions üì±!</p>
    </div>
  </div>

  <script>
    // Enhanced scriptures from New World Translation
    const scriptures = {
      exclusiveDevotion: {
        header: "Exclusive Devotion to Jehovah",
        text: "I, Jehovah your God, am a God who requires exclusive devotion.",
        reference: "Deuteronomy 5:9 (NWT)"
      },
      worshipJehovah: {
        header: "True Worship",
        text: "It is Jehovah your God you must worship, and it is to him alone you must render sacred service.",
        reference: "Matthew 4:10 (NWT)"
      },
      seekFirst: {
        header: "Priorities in Life",
        text: "Keep on, then, seeking first the Kingdom and his righteousness, and all these other things will be added to you.",
        reference: "Matthew 6:33 (NWT)"
      },
      badAssociations: {
        header: "Choose Friends Wisely",
        text: "Do not be misled. Bad associations spoil useful habits.",
        reference: "1 Corinthians 15:33 (NWT)"
      },
      loveOfMoney: {
        header: "Materialism Warning",
        text: "For the love of money is a root of all sorts of injurious things, and by reaching out for this love some have been led astray from the faith.",
        reference: "1 Timothy 6:10 (NWT)"
      },
      worldlyDesires: {
        header: "Resist Worldly Desires",
        text: "Everything in the world‚Äîthe desire of the flesh and the desire of the eyes and the showy display of one's means of life‚Äîdoes not originate with the Father, but originates with the world.",
        reference: "1 John 2:16 (NWT)"
      },
      prayer: {
        header: "The Power of Prayer",
        text: "Persevere in prayer, being watchful in it with thanksgiving.",
        reference: "Colossians 4:2 (NWT)"
      },
      bibleStudy: {
        header: "Value of Bible Study",
        text: "All Scripture is inspired of God and beneficial for teaching, for reproving, for setting things straight, for disciplining in righteousness.",
        reference: "2 Timothy 3:16 (NWT)"
      }
    };

    let mode = 'cello';
    let difficulty = 'easy';
    let level = 1;
    let score = 0;
    let streak = 0;
    let maxStreak = 0;
    let timer = null;
    let timeLeft = 0;
    let hintsUsed = 0;
    let currentHintIndex = 0;

    // Enhanced activities with more variety and age-appropriate content
    const activitiesByLevel = {
      1: {
        cello: [
          { emoji: 'üôè', text: "Praying before meals and bedtime", correct: "closer", hint: "Talking to Jehovah is always good!" },
          { emoji: 'üéÆ', text: "Playing video games for many hours", correct: "distraction", hint: "Too much of anything can take time from Jehovah." },
          { emoji: 'üßπ', text: "Helping mommy and daddy clean up", correct: "closer", hint: "Helping others shows love like Jehovah." },
          { emoji: 'üì∫', text: "Watching scary movies that give bad dreams", correct: "distraction", hint: "Things that scare us don't help us feel close to Jehovah." }
        ],
        fina: [
          { emoji: 'üôè', text: "Having personal prayer time daily", correct: "closer", hint: "Regular prayer strengthens our friendship with Jehovah." },
          { emoji: 'üì±', text: "Spending hours scrolling social media", correct: "distraction", hint: "Too much screen time can distract from spiritual things." },
          { emoji: 'ü§ù', text: "Helping friends with their problems", correct: "closer", hint: "Showing love to others reflects Jehovah's love." },
          { emoji: 'üõçÔ∏è', text: "Always wanting the latest trendy items", correct: "distraction", hint: "Focusing too much on material things can distract from spiritual goals." }
        ],
        teen: [
          { emoji: 'üìñ', text: "Reading the Bible daily for personal study", correct: "closer", hint: "God's Word helps us make good decisions." },
          { emoji: 'üéâ', text: "Going to parties where people drink alcohol", correct: "distraction", hint: "Bad associations can lead us away from Jehovah." },
          { emoji: 'üë•', text: "Participating in family worship regularly", correct: "closer", hint: "Family worship strengthens our spiritual foundation." },
          { emoji: 'üí∞', text: "Working extra hours just to buy expensive things", correct: "distraction", hint: "The love of money can become a root of problems." }
        ],
        adult: [
          { emoji: '‚õ™', text: "Attending all congregation meetings regularly", correct: "closer", hint: "Meeting together encourages our faith." },
          { emoji: 'üíº', text: "Putting career advancement above spiritual goals", correct: "distraction", hint: "Seeking first the Kingdom should be our priority." },
          { emoji: 'üë®‚Äçüë©‚Äçüëß‚Äçüë¶', text: "Teaching children about Jehovah daily", correct: "closer", hint: "Training children in God's ways is a sacred responsibility." },
          { emoji: 'üç∑', text: "Drinking alcohol to cope with stress", correct: "distraction", hint: "Relying on substances instead of Jehovah can become harmful." }
        ]
      },
      2: {
        cello: [
          { emoji: 'üìö', text: "Listening to Bible stories before bed", correct: "closer", hint: "Bible stories teach us about Jehovah's love." },
          { emoji: 'üèÉ‚Äç‚ôÇÔ∏è', text: "Playing outside and getting exercise", correct: "closer", hint: "Taking care of our body is good!" },
          { emoji: 'üì±', text: "Watching videos instead of listening to parents", correct: "distraction", hint: "Obeying parents is what Jehovah wants." },
          { emoji: 'üõèÔ∏è', text: "Staying up very late when told to sleep", correct: "distraction", hint: "Rest helps us be ready for good things." },
          { emoji: 'üéµ', text: "Singing Kingdom songs", correct: "closer", hint: "Songs about Jehovah make our hearts happy." }
        ],
        fina: [
          { emoji: 'üìñ', text: "Preparing for congregation meetings", correct: "closer", hint: "Preparation helps us participate and learn more." },
          { emoji: 'üèÉ‚Äç‚ôÇÔ∏è', text: "Including others in games and activities", correct: "closer", hint: "Being kind to others shows Christian love." },
          { emoji: 'üì±', text: "Chatting online instead of doing homework", correct: "distraction", hint: "Responsibilities come first, then recreation." },
          { emoji: 'üé≠', text: "Watching shows with bad language and violence", correct: "distraction", hint: "What we watch affects our thoughts and heart." },
          { emoji: 'üé®', text: "Using talents to praise Jehovah", correct: "closer", hint: "Our abilities can be used to honor God." }
        ],
        teen: [
          { emoji: 'üö™', text: "Sharing in the preaching work regularly", correct: "closer", hint: "Telling others about Jehovah is a privilege." },
          { emoji: 'üéì', text: "Focusing only on getting into prestigious universities", correct: "distraction", hint: "Education is good, but spiritual goals matter most." },
          { emoji: 'üíù', text: "Showing appreciation for parents' guidance", correct: "closer", hint: "Honoring parents pleases Jehovah." },
          { emoji: 'üë´', text: "Dating someone who doesn't share your beliefs", correct: "distraction", hint: "Marrying only in the Lord protects our faith." },
          { emoji: 'üéØ', text: "Setting spiritual goals for the future", correct: "closer", hint: "Planning for spiritual service brings joy." }
        ],
        adult: [
          { emoji: 'üè†', text: "Making home a place of peace and worship", correct: "closer", hint: "Our homes should reflect our love for Jehovah." },
          { emoji: 'üí≥', text: "Accumulating debt for luxury items", correct: "distraction", hint: "Contentment with necessities brings peace." },
          { emoji: 'ü§≤', text: "Volunteering for congregation responsibilities", correct: "closer", hint: "Serving others in the congregation is rewarding." },
          { emoji: 'üì∫', text: "Binge-watching shows instead of family time", correct: "distraction", hint: "Family relationships need our attention and care." },
          { emoji: 'üìù', text: "Keeping a regular schedule for Bible study", correct: "closer", hint: "Consistent study helps us grow spiritually." }
        ]
      },
      3: {
        cello: [
          { emoji: '‚è∞', text: "Getting up early to help with chores", correct: "closer", hint: "Being helpful makes Jehovah happy." },
          { emoji: 'üßµ', text: "Making gifts for family and friends", correct: "closer", hint: "Giving from the heart shows love." },
          { emoji: 'üí∏', text: "Always asking for expensive toys", correct: "distraction", hint: "Being content with what we have is better." },
          { emoji: 'üìö', text: "Trying hard in school to learn", correct: "closer", hint: "Learning helps us serve Jehovah better." },
          { emoji: 'üéµ', text: "Listening to music with bad words", correct: "distraction", hint: "Good music makes our hearts clean." },
          { emoji: 'üë•', text: "Being mean to kids who are different", correct: "distraction", hint: "Jehovah loves all kinds of people." }
        ],
        fina: [
          { emoji: '‚è∞', text: "Waking up early for family worship", correct: "closer", hint: "Starting the day with Jehovah sets a good tone." },
          { emoji: 'üé®', text: "Creating art that honors Jehovah", correct: "closer", hint: "Our creativity can glorify God." },
          { emoji: 'üí∏', text: "Comparing possessions with classmates", correct: "distraction", hint: "Contentment comes from spiritual riches, not material ones." },
          { emoji: 'üìö', text: "Studying hard to develop useful skills", correct: "closer", hint: "Education helps us serve others better." },
          { emoji: 'üéµ', text: "Choosing music that promotes wrong values", correct: "distraction", hint: "Music influences our thoughts and feelings." },
          { emoji: 'üë•', text: "Following peer pressure instead of Bible principles", correct: "distraction", hint: "Pleasing Jehovah is more important than pleasing people." }
        ],
        teen: [
          { emoji: 'üéØ', text: "Working toward spiritual goals like baptism", correct: "closer", hint: "Dedication to Jehovah is the most important decision." },
          { emoji: 'üíº', text: "Choosing a career based only on money potential", correct: "distraction", hint: "Consider how your career can support spiritual goals." },
          { emoji: 'ü§ù', text: "Building friendships with those who love Jehovah", correct: "closer", hint: "Good friends encourage us spiritually." },
          { emoji: 'üéÆ', text: "Playing violent video games for hours", correct: "distraction", hint: "Violence in entertainment can harden our hearts." },
          { emoji: 'üíï', text: "Developing a romantic relationship too young", correct: "distraction", hint: "There's a time for everything, including romance." },
          { emoji: 'üìñ', text: "Researching Bible topics that interest you", correct: "closer", hint: "Personal study deepens our love for truth." }
        ],
        adult: [
          { emoji: 'üë®‚Äçüè´', text: "Teaching Bible studies with enthusiasm", correct: "closer", hint: "Helping others learn about Jehovah brings great joy." },
          { emoji: 'üèÜ', text: "Pursuing worldly recognition and status", correct: "distraction", hint: "Seeking glory from men can distract from serving God." },
          { emoji: 'üíí', text: "Strengthening marriage through Bible principles", correct: "closer", hint: "A godly marriage honors Jehovah." },
          { emoji: 'üçª', text: "Using alcohol or substances to escape problems", correct: "distraction", hint: "True comfort comes from Jehovah, not substances." },
          { emoji: 'üí∞', text: "Working excessive hours to accumulate wealth", correct: "distraction", hint: "Balance work with spiritual and family priorities." },
          { emoji: 'üåç', text: "Considering how to expand your ministry", correct: "closer", hint: "Looking for ways to serve Jehovah more fully is commendable." }
        ]
      },
      4: {
        cello: [
          { emoji: 'üé™', text: "Going to the circus with family", correct: "closer", hint: "Clean fun with family is good!" },
          { emoji: 'üç≠', text: "Eating too much candy and getting sick", correct: "distraction", hint: "Taking care of our body is important." },
          { emoji: 'üêï', text: "Taking care of a pet responsibly", correct: "closer", hint: "Being responsible shows we're growing up." },
          { emoji: 'üò°', text: "Getting angry and saying mean things", correct: "distraction", hint: "Kind words make everyone happy." },
          { emoji: 'üå±', text: "Helping in the garden and learning about plants", correct: "closer", hint: "Jehovah made all the beautiful plants!" },
          { emoji: 'üì±', text: "Playing on tablet instead of playing with friends", correct: "distraction", hint: "Friends are more fun than screens!" }
        ],
        fina: [
          { emoji: 'üé≠', text: "Participating in school drama that promotes good values", correct: "closer", hint: "Using talents in wholesome ways honors God." },
          { emoji: 'üõçÔ∏è', text: "Shopping as a hobby and main interest", correct: "distraction", hint: "Finding identity in possessions is empty." },
          { emoji: 'üåø', text: "Learning about Jehovah's creation through nature", correct: "closer", hint: "Creation teaches us about Jehovah's qualities." },
          { emoji: 'üò§', text: "Holding grudges against those who hurt you", correct: "distraction", hint: "Forgiveness frees our hearts and pleases Jehovah." },
          { emoji: 'üìù', text: "Keeping a spiritual journal of your thoughts", correct: "closer", hint: "Reflecting on spiritual matters helps us grow." },
          { emoji: 'üéØ', text: "Competing intensely to always be the best", correct: "distraction", hint: "Humility and cooperation are better than pride." }
        ],
        teen: [
          { emoji: 'üéì', text: "Using education to serve Jehovah better", correct: "closer", hint: "Knowledge can be used to advance Kingdom interests." },
          { emoji: 'üèÜ', text: "Making sports or achievements your main identity", correct: "distraction", hint: "Our identity should be rooted in our relationship with God." },
          { emoji: 'ü§ù', text: "Helping younger ones in the congregation", correct: "closer", hint: "Mentoring others strengthens the whole congregation." },
          { emoji: 'üíî', text: "Dwelling on romantic disappointments", correct: "distraction", hint: "Trust in Jehovah's timing for all things." },
          { emoji: 'üåü', text: "Developing skills that could be used in theocratic assignments", correct: "closer", hint: "Preparing for future service opportunities is wise." },
          { emoji: 'üì±', text: "Constantly checking social media for validation", correct: "distraction", hint: "Our worth comes from Jehovah's love, not likes and comments." }
        ],
        adult: [
          { emoji: 'üè°', text: "Creating a hospitable home for fellow believers", correct: "closer", hint: "Hospitality strengthens the brotherhood." },
          { emoji: 'üíº', text: "Letting work stress affect family relationships", correct: "distraction", hint: "Family relationships need protection from work pressures." },
          { emoji: 'üìö', text: "Continuing to learn and grow spiritually", correct: "closer", hint: "Spiritual growth should continue throughout life." },
          { emoji: 'üé≠', text: "Living a double life in different social circles", correct: "distraction", hint: "Integrity means being the same person everywhere." },
          { emoji: 'üéÅ', text: "Using resources to support Kingdom work", correct: "closer", hint: "Generous giving supports the worldwide preaching work." },
          { emoji: 'üì∫', text: "Consuming entertainment that conflicts with Bible values", correct: "distraction", hint: "What we feed our minds affects our spiritual health." }
        ]
      },
      5: {
        cello: [
          { emoji: 'üé®', text: "Drawing pictures of Bible stories", correct: "closer", hint: "Art about Jehovah is beautiful!" },
          { emoji: 'üçé', text: "Eating healthy foods to grow strong", correct: "closer", hint: "Jehovah wants us to be healthy!" },
          { emoji: 'üò¢', text: "Crying when we don't get our way", correct: "distraction", hint: "Learning to be happy with what we have is good." },
          { emoji: 'üåà', text: "Learning about how Jehovah made the rainbow", correct: "closer", hint: "Everything beautiful comes from Jehovah!" },
          { emoji: 'üéÆ', text: "Playing games instead of helping when asked", correct: "distraction", hint: "Helping others is more important than games." },
          { emoji: 'ü§ó', text: "Giving hugs and being kind to everyone", correct: "closer", hint: "Love makes everyone happy!" },
          { emoji: 'üì±', text: "Wanting to use grown-up apps and websites", correct: "distraction", hint: "Some things are for when we're older." }
        ],
        fina: [
          { emoji: 'üé§', text: "Using your voice to sing praises to Jehovah", correct: "closer", hint: "Our voices can be instruments of worship." },
          { emoji: 'üèÉ‚Äç‚ôÄÔ∏è', text: "Exercising to stay healthy for Jehovah's service", correct: "closer", hint: "Physical health supports our spiritual service." },
          { emoji: 'üòî', text: "Feeling sorry for yourself when things don't go your way", correct: "distraction", hint: "Gratitude and trust in Jehovah bring peace." },
          { emoji: 'üåç', text: "Learning about different cultures to understand people better", correct: "closer", hint: "Understanding others helps us preach effectively." },
          { emoji: 'üéØ', text: "Competing so intensely that you hurt friendships", correct: "distraction", hint: "Relationships are more valuable than winning." },
          { emoji: 'üíå', text: "Writing encouraging notes to congregation members", correct: "closer", hint: "Encouragement builds up the brotherhood." },
          { emoji: 'üõí', text: "Always wanting what others have", correct: "distraction", hint: "Contentment comes from appreciating Jehovah's blessings." }
        ],
        teen: [
          { emoji: 'üéØ', text: "Setting and working toward spiritual goals", correct: "closer", hint: "Goals give direction to our spiritual progress." },
          { emoji: 'üí™', text: "Building physical strength to serve Jehovah better", correct: "closer", hint: "Physical fitness can support our ministry." },
          { emoji: 'üòí', text: "Complaining about congregation responsibilities", correct: "distraction", hint: "Serving with joy brings blessings." },
          { emoji: 'üåè', text: "Learning languages to expand your ministry", correct: "closer", hint: "Language skills open doors for preaching." },
          { emoji: 'üèÜ', text: "Seeking recognition for your spiritual activities", correct: "distraction", hint: "Serve Jehovah for love, not recognition." },
          { emoji: 'üíù', text: "Showing appreciation for spiritual mentors", correct: "closer", hint: "Honoring those who help us spiritually is important." },
          { emoji: 'üé≠', text: "Pretending to be someone you're not to fit in", correct: "distraction", hint: "Authenticity and integrity please Jehovah." }
        ],
        adult: [
          { emoji: 'üè†', text: "Making your home a refuge for your family", correct: "closer", hint: "Homes should be havens of peace and spirituality." },
          { emoji: 'üíº', text: "Building your entire identity around your career", correct: "distraction", hint: "Our primary identity should be as servants of Jehovah." },
          { emoji: 'ü§ù', text: "Mentoring younger ones in the congregation", correct: "closer", hint: "Passing on spiritual wisdom is a privilege." },
          { emoji: 'üí∞', text: "Constantly worrying about financial security", correct: "distraction", hint: "Trust in Jehovah's provision brings peace." },
          { emoji: 'üåü', text: "Looking for ways to expand your service to Jehovah", correct: "closer", hint: "Seeking greater service opportunities shows spiritual maturity." },
          { emoji: 'üì±', text: "Allowing technology to dominate family time", correct: "distraction", hint: "Technology should serve us, not control us." },
          { emoji: 'üéÅ', text: "Generously supporting Kingdom work with time and resources", correct: "closer", hint: "Generous giving reflects Jehovah's generous spirit." }
        ]
      }
    };

    function updateScore() {
      document.getElementById("scoreBoard").textContent = `Score: ${score}`;
      document.getElementById("streakBoard").textContent = `Streak: ${streak}`;
    }

    function updateProgress() {
      const progress = (level / 5) * 100;
      document.getElementById("progressFill").style.width = `${progress}%`;
    }

    function startTimer() {
      if (difficulty === 'easy') return;
      
      timeLeft = difficulty === 'medium' ? 120 : 60;
      document.getElementById("timerDisplay").classList.remove("hidden");
      
      timer = setInterval(() => {
        timeLeft--;
        const minutes = Math.floor(timeLeft / 60);
        const seconds = timeLeft % 60;
        document.getElementById("timerDisplay").textContent = 
          `Time: ${minutes}:${seconds.toString().padStart(2, '0')}`;
        
        if (timeLeft <= 0) {
          clearInterval(timer);
          endGame("Time's up! ‚è∞");
        }
      }, 1000);
    }

    function stopTimer() {
      if (timer) {
        clearInterval(timer);
        timer = null;
      }
      document.getElementById("timerDisplay").classList.add("hidden");
    }

    function loadCards() {
      document.getElementById("levelLabel").textContent = level;
      updateProgress();
      const cardContainer = document.getElementById("cards");
      cardContainer.innerHTML = "";
      document.getElementById("feedback").textContent = "";
      document.getElementById("nextLevelBtn").classList.add("hidden");
      
      // Reset counters
      document.getElementById("closerCounter").textContent = "0";
      document.getElementById("distractionCounter").textContent = "0";
      
      currentHintIndex = 0;
      
      const list = activitiesByLevel[level][mode];
      list.forEach((activity, idx) => {
        const card = document.createElement("div");
        card.className = "card";
        card.id = `card${idx}`;
        card.draggable = true;

        const spanEmoji = document.createElement("span");
        spanEmoji.className = "emoji";
        spanEmoji.textContent = activity.emoji;
        card.appendChild(spanEmoji);

        const spanText = document.createElement("div");
        spanText.className = "card-text";
        spanText.textContent = activity.text;
        card.appendChild(spanText);

        if (difficulty === 'hard') {
          const difficultyIndicator = document.createElement("div");
          difficultyIndicator.className = "difficulty-indicator";
          difficultyIndicator.textContent = "üî•";
          card.appendChild(difficultyIndicator);
        }

        card.setAttribute("data-correct", activity.correct);
        card.setAttribute("data-hint", activity.hint);
        card.ondragstart = drag;
        
        setTimeout(() => {
          card.classList.add("visible");
        }, 150 * idx);
        
        cardContainer.appendChild(card);
      });
      
      startTimer();
    }

    function showHint() {
      const cards = document.querySelectorAll('.card:not([data-placed="true"])');
      if (currentHintIndex >= cards.length) {
        document.getElementById("feedback").textContent = "üí° No more hints available for this level!";
        document.getElementById("feedback").style.color = "#ff9800";
        return;
      }
      
      const card = cards[currentHintIndex];
      const hint = card.getAttribute("data-hint");
      document.getElementById("feedback").textContent = `üí° Hint: ${hint}`;
      document.getElementById("feedback").style.color = "#ff9800";
      
      // Highlight the card
      card.style.border = "3px solid #ff9800";
      card.style.boxShadow = "0 0 15px rgba(255, 152, 0, 0.5)";
      
      setTimeout(() => {
        card.style.border = "3px solid #90caf9";
        card.style.boxShadow = "0 4px 8px rgba(0,0,0,0.1)";
      }, 3000);
      
      currentHintIndex++;
      hintsUsed++;
    }

    function restartGame() {
      level = 1;
      score = 0;
      streak = 0;
      hintsUsed = 0;
      stopTimer();
      clearDropzones();
      updateScore();
      loadCards();
    }

    document.getElementsByName("mode").forEach(radio => {
      radio.addEventListener("change", (e) => {
        mode = e.target.value;
        level = 1;
        score = 0;
        streak = 0;
        stopTimer();
        loadCards();
        clearDropzones();
        updateScore();
      });
    });

    document.getElementsByName("difficulty").forEach(radio => {
      radio.addEventListener("change", (e) => {
        difficulty = e.target.value;
        stopTimer();
        if (level === 1) {
          loadCards();
        }
      });
    });

    function allowDrop(ev) {
      ev.preventDefault();
      if (ev.target.classList.contains('dropzone') || ev.target.parentElement.classList.contains('dropzone')) {
        const zone = ev.target.classList.contains('dropzone') ? ev.target : ev.target.parentElement;
        zone.classList.add('over');
      }
    }

    function dragLeave(ev) {
      if (ev.target.classList.contains('dropzone')) {
        ev.target.classList.remove('over');
      }
    }

    function drag(ev) {
      ev.dataTransfer.setData("text", ev.target.id);
    }

    function drop(ev) {
      ev.preventDefault();
      let zone = ev.target;
      while (!zone.classList.contains('dropzone')) {
        zone = zone.parentElement;
        if (!zone) return;
      }
      zone.classList.remove('over');
      
      const cardId = ev.dataTransfer.getData("text");
      const card = document.getElementById(cardId);
      const zoneId = zone.id;
      const correctZone = card.getAttribute("data-correct");
      const feedbackEl = document.getElementById("feedback");

      if (zoneId === correctZone) {
        zone.appendChild(card);
        card.setAttribute("draggable", false);
        card.setAttribute("data-placed", "true");
        card.classList.add("correct");
        
        feedbackEl.textContent = "‚úÖ Excellent choice!";
        feedbackEl.style.color = "#2e7d32";
        
        card.style.transform = "scale(1.05)";
        setTimeout(() => { card.style.transform = "scale(1)"; }, 500);
        
        score += difficulty === 'hard' ? 15 : difficulty === 'medium' ? 10 : 5;
        streak++;
        if (streak > maxStreak) maxStreak = streak;
        
        updateScore();
        updateCounters();
        maybeShowScripture();
        checkLevelComplete();
      } else {
        card.classList.add("incorrect");
        setTimeout(() => card.classList.remove("incorrect"), 500);
        
        feedbackEl.textContent = "‚ùå Think about it more. What would help you stay close to Jehovah?";
        feedbackEl.style.color = "#c62828";
        
        streak = 0;
        updateScore();
      }
    }

    function updateCounters() {
      const closerCards = document.querySelectorAll('#closer .card').length;
      const distractionCards = document.querySelectorAll('#distraction .card').length;
      document.getElementById("closerCounter").textContent = closerCards;
      document.getElementById("distractionCounter").textContent = distractionCards;
    }

    function clearDropzones() {
      document.getElementById("closer").innerHTML = `
        <h2 style="color: #2e7d32;">‚úÖ Keeps Me Close to Jehovah</h2>
        <div class="dropzone-counter" id="closerCounter">0</div>
      `;
      document.getElementById("distraction").innerHTML = `
        <h2 style="color: #c62828;">‚ö†Ô∏è Could Be a Distraction</h2>
        <div class="dropzone-counter" id="distractionCounter">0</div>
      `;
    }

    function checkLevelComplete() {
      const total = activitiesByLevel[level][mode].length;
      const placed = document.querySelectorAll('.card[data-placed="true"]').length;
      
      if (placed === total) {
        stopTimer();
        let message = `üéâ Level ${level} complete! `;
        if (streak === total) {
          message += "Perfect streak! üåü";
          score += 20; // Bonus for perfect level
        }
        document.getElementById("feedback").textContent = message;
        document.getElementById("feedback").style.color = "#2e7d32";
        
        if (level < 5) {
          document.getElementById("nextLevelBtn").classList.remove("hidden");
        } else {
          endGame("üèÜ Congratulations! You completed all levels!");
        }
        updateScore();
      }
    }

    function goToNextLevel() {
      if (level < 5) {
        level++;
        clearDropzones();
        loadCards();
      }
    }

    function endGame(message) {
      stopTimer();
      document.getElementById("feedback").textContent = `${message} Final Score: ${score}`;
      document.getElementById("feedback").style.color = "#1a237e";
      
      // Show final scripture
      setTimeout(() => {
        showScripture(scriptures.seekFirst);
      }, 2000);
    }

    // Enhanced scripture system
    function maybeShowScripture() {
      const placed = document.querySelectorAll('.card[data-placed="true"]').length;
      if (placed > 0 && placed % 3 === 0) {
        const scriptureKeys = Object.keys(scriptures);
        const randomKey = scriptureKeys[Math.floor(Math.random() * scriptureKeys.length)];
        showScripture(scriptures[randomKey]);
      }
    }

    function showScripture(scriptureObj) {
      const popup = document.getElementById("scripturePopup");
      document.getElementById("scriptureHeader").textContent = scriptureObj.header;
      document.getElementById("scriptureText").textContent = `"${scriptureObj.text}"`;
      document.getElementById("scriptureReference").textContent = `‚Äî ${scriptureObj.reference}`;
      popup.style.display = "block";
    }

    function closeScripture() {
      document.getElementById("scripturePopup").style.display = "none";
    }

    function showMoreScriptures() {
      const scriptureKeys = Object.keys(scriptures);
      const randomKey = scriptureKeys[Math.floor(Math.random() * scriptureKeys.length)];
      showScripture(scriptures[randomKey]);
    }

    // Simple minigame (original)
    const canvas = document.getElementById("minigameCanvas");
    const ctx = canvas.getContext("2d");
    let runnerX = 30, runnerY = canvas.height - 40;
    let runnerVelocityY = 0;
    let isJumping = false;
    let obstacles = [];
    let collectibles = [];
    let minigameInterval, spawnInterval;
    let minigameActive = false;
    let minigameScore = 0;
    let gameSpeed = 3;

    function startMinigame() {
      if (minigameActive) return;
      minigameActive = true;
      runnerX = 30;
      runnerY = canvas.height - 40;
      runnerVelocityY = 0;
      isJumping = false;
      obstacles = [];
      collectibles = [];
      minigameScore = 0;
      gameSpeed = 3;
      
      document.addEventListener('keydown', handleKeyDown);
      document.addEventListener('keyup', handleKeyUp);
      
      minigameInterval = setInterval(updateMinigame, 20);
      spawnInterval = setInterval(spawnObjects, 2000);
    }

    function handleKeyDown(e) {
      if ((e.key === 'ArrowUp' || e.key === ' ') && !isJumping && minigameActive) {
        e.preventDefault();
        isJumping = true;
        runnerVelocityY = -12;
      }
    }

    function handleKeyUp(e) {
      if (e.key === 'ArrowUp' || e.key === ' ') {
        e.preventDefault();
      }
    }

    function spawnObjects() {
      if (!minigameActive) return;
      
      // Spawn obstacle
      if (Math.random() < 0.7) {
        obstacles.push({
          x: canvas.width,
          y: canvas.height - 40,
          width: 25,
          height: 25,
          type: 'distraction'
        });
      }
      
      // Spawn collectible
      if (Math.random() < 0.4) {
        collectibles.push({
          x: canvas.width,
          y: canvas.height - 80,
          width: 20,
          height: 20,
          type: 'blessing'
        });
      }
      
      // Increase difficulty over time
      gameSpeed += 0.1;
    }

    function collision(x1, y1, w1, h1, x2, y2, w2, h2) {
      return x1 < x2 + w2 &&
             x1 + w1 > x2 &&
             y1 < y2 + h2 &&
             y1 + h1 > y2;
    }

    function updateMinigame() {
      // Clear canvas
      ctx.clearRect(0, 0, canvas.width, canvas.height);
      
      // Draw background
      const gradient = ctx.createLinearGradient(0, 0, 0, canvas.height);
      gradient.addColorStop(0, '#87CEEB');
      gradient.addColorStop(1, '#98FB98');
      ctx.fillStyle = gradient;
      ctx.fillRect(0, 0, canvas.width, canvas.height);
      
      // Draw ground
      ctx.fillStyle = '#8FBC8F';
      ctx.fillRect(0, canvas.height - 20, canvas.width, 20);
      
      // Update runner physics
      if (isJumping) {
        runnerVelocityY += 0.8; // gravity
        runnerY += runnerVelocityY;
        
        if (runnerY >= canvas.height - 40) {
          runnerY = canvas.height - 40;
          isJumping = false;
          runnerVelocityY = 0;
        }
      }
      
      // Draw runner
      ctx.fillStyle = '#4169E1';
      ctx.fillRect(runnerX, runnerY, 25, 25);
      ctx.fillStyle = 'white';
      ctx.font = '16px Arial';
      ctx.fillText('üèÉ', runnerX + 2, runnerY + 18);
      
      // Update and draw obstacles
      ctx.fillStyle = '#DC143C';
      obstacles.forEach((obs, i) => {
        obs.x -= gameSpeed;
        ctx.fillRect(obs.x, obs.y, obs.width, obs.height);
        ctx.fillStyle = 'white';
        ctx.font = '14px Arial';
        ctx.fillText('üì±', obs.x + 4, obs.y + 18);
        ctx.fillStyle = '#DC143C';
        
        // Check collision
        if (collision(runnerX, runnerY, 25, 25, obs.x, obs.y, obs.width, obs.height)) {
          endMinigame();
          return;
        }
        
        // Remove off-screen obstacles
        if (obs.x + obs.width < 0) {
          obstacles.splice(i, 1);
          minigameScore += 10;
        }
      });
      
      // Update and draw collectibles
      ctx.fillStyle = '#FFD700';
      collectibles.forEach((col, i) => {
        col.x -= gameSpeed;
        ctx.fillRect(col.x, col.y, col.width, col.height);
        ctx.fillStyle = 'white';
        ctx.font = '12px Arial';
        ctx.fillText('üìñ', col.x + 2, col.y + 15);
        ctx.fillStyle = '#FFD700';
        
        // Check collection
        if (collision(runnerX, runnerY, 25, 25, col.x, col.y, col.width, col.height)) {
          collectibles.splice(i, 1);
          minigameScore += 25;
          score += 5;
          updateScore();
        }
        
        // Remove off-screen collectibles
        if (col.x + col.width < 0) {
          collectibles.splice(i, 1);
        }
      });
      
      // Draw score
      ctx.fillStyle = 'black';
      ctx.font = '16px Arial';
      ctx.fillText(`Mini-Game Score: ${minigameScore}`, 10, 25);
    }

    function endMinigame() {
      clearInterval(minigameInterval);
      clearInterval(spawnInterval);
      minigameActive = false;
      document.removeEventListener('keydown', handleKeyDown);
      document.removeEventListener('keyup', handleKeyUp);
      
      // Draw game over screen
      ctx.fillStyle = 'rgba(0, 0, 0, 0.7)';
      ctx.fillRect(0, 0, canvas.width, canvas.height);
      ctx.fillStyle = 'white';
      ctx.font = 'bold 20px Arial';
      ctx.textAlign = 'center';
      ctx.fillText('Game Over!', canvas.width/2, canvas.height/2 - 20);
      ctx.font = '16px Arial';
      ctx.fillText(`Score: ${minigameScore}`, canvas.width/2, canvas.height/2 + 10);
      ctx.fillText('Click "Start Mini-Run" to play again', canvas.width/2, canvas.height/2 + 35);
      ctx.textAlign = 'left';
      
      document.getElementById("feedback").textContent = `üéÆ Mini-game over! You avoided distractions and earned ${minigameScore} points!`;
      document.getElementById("feedback").style.color = "#1a237e";
    }

    // Advanced Side-Scroller Game
    const sideCanvas = document.getElementById("sideScrollerCanvas");
    const sideCtx = sideCanvas.getContext("2d");
    
    let adventureActive = false;
    let adventureInterval, adventureSpawnInterval;
    let adventureScore = 0;
    let kingdomTokens = 0;
    let tokenGoal = 10;
    let playerHealth = 3;
    let maxHealth = 3;
    
    // Player properties
    let player = {
      x: 50,
      y: sideCanvas.height - 80,
      width: 30,
      height: 30,
      velocityY: 0,
      isJumping: false,
      onGround: true
    };
    
    // Game world
    let worldOffset = 0;
    let backgroundOffset = 0;
    let adventureObjects = [];
    let adventureSpeed = 4;
    
    // Clouds for background
    let clouds = [
      { x: 100, y: 50, size: 30 },
      { x: 300, y: 80, size: 25 },
      { x: 500, y: 40, size: 35 },
      { x: 700, y: 70, size: 28 }
    ];

    function startSideScroller() {
      if (adventureActive) return;
      
      adventureActive = true;
      adventureScore = 0;
      kingdomTokens = 0;
      playerHealth = maxHealth;
      worldOffset = 0;
      backgroundOffset = 0;
      adventureObjects = [];
      adventureSpeed = 4;
      
      // Reset player
      player.x = 50;
      player.y = sideCanvas.height - 80;
      player.velocityY = 0;
      player.isJumping = false;
      player.onGround = true;
      
      updateAdventureUI();
      
      document.addEventListener('keydown', handleAdventureKeyDown);
      document.addEventListener('keyup', handleAdventureKeyUp);
      
      adventureInterval = setInterval(updateSideScroller, 20);
      adventureSpawnInterval = setInterval(spawnAdventureObjects, 1500);
    }

    function handleAdventureKeyDown(e) {
      if ((e.key === 'ArrowUp' || e.key === ' ') && player.onGround && adventureActive) {
        e.preventDefault();
        player.isJumping = true;
        player.onGround = false;
        player.velocityY = -15;
      }
    }

    function handleAdventureKeyUp(e) {
      if (e.key === 'ArrowUp' || e.key === ' ') {
        e.preventDefault();
      }
    }

    function spawnAdventureObjects() {
      if (!adventureActive) return;
      
      const rand = Math.random();
      
      if (rand < 0.4) {
        // Spawn Kingdom Token (collectible)
        adventureObjects.push({
          x: sideCanvas.width + 20,
          y: sideCanvas.height - 120 - Math.random() * 60,
          width: 25,
          height: 25,
          type: 'token',
          emoji: 'üìñ'
        });
      } else if (rand < 0.6) {
        // Spawn Prayer collectible
        adventureObjects.push({
          x: sideCanvas.width + 20,
          y: sideCanvas.height - 100 - Math.random() * 40,
          width: 22,
          height: 22,
          type: 'prayer',
          emoji: 'üôè'
        });
      } else if (rand < 0.8) {
        // Spawn ground obstacle (distraction)
        adventureObjects.push({
          x: sideCanvas.width + 20,
          y: sideCanvas.height - 50,
          width: 30,
          height: 30,
          type: 'obstacle',
          emoji: 'üì±'
        });
      } else {
        // Spawn floating distraction
        adventureObjects.push({
          x: sideCanvas.width + 20,
          y: sideCanvas.height - 120,
          width: 28,
          height: 28,
          type: 'obstacle',
          emoji: 'üí∏'
        });
      }
      
